<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Решение задач с помощью координатной прямой</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark-reasonable.min.css">
</head>
<body>
  <header>
    <h1>Решение задач с помощью координатной прямой</h1>
  </header>



  <main>
    <section class="intro">
      <h2>Введение</h2>
  <p>
    Теория вероятностей изучает случайные события и их вероятности. Координатная прямая может быть использована для визуализации и анализа этих вероятностей.  Она позволяет представить различные исходы события в графическом виде.
      </p>
    </section>

    <section class="advantages">
      <h2>Что такое координатная прямая и как она применяется в теории вероятности</h2>
  <ul>
    <li><p><b>Наглядное представление:</b> Координатная прямая позволяет визуализировать события, вероятности и интервалы.</p></li>
    <li><p><b>Интерпретация данных:</b> Геометрическая интерпретация облегчает понимание и анализ вероятностных задач.</p></li>
    <li><p><b>Эффективное решение:</b> Использование координатной прямой значительно упрощает и ускоряет решение вероятностных задач.</p></li>
  </ul>
    </section>

    <section>
      <img class="imgSection" src="img\cards\1.png" alt="QR Code">
    </section>

    <section class="examples">
      <h2>Пошаговая инструкция по решению задач с использованием координатной прямой</h2>
      <ul>
        <li>Определите события и их расположение на координатной прямой.</li>
        <li>Рассчитайте длины интервалов, соответствующих вероятностям событий.</li>
        <li>Применяйте правила теории вероятности, используя геометрическую интерпретацию.</li>
      </ul>
    </section>

    <section class="applications">
      <h2>Преимущества использования координатной прямой при решении вероятностных задач</h2>
      <ul>
        <li><p><b>Наглядность:</b> Координатная прямая обеспечивает простое и эффективное визуальное представление событий и их вероятностей.</p></li>
        <li><p><b>Понимание:</b> Геометрическая интерпретация помогает лучше понять логику и взаимосвязи между вероятностными концепциями.</p></li>
      </ul>
    </section>

    <section>
      <img class="imgSection" src="img\cards\2.png" alt="QR Code">
    </section>

    <section class="applications">
      <h2>Типичные ошибки и сложности при применении координатной прямой</h2>
      <ul>
        <li><p><b>Трудности с интерпретацией:</b> Неправильное понимание расположения событий и интервалов на координатной прямой может привести к ошибкам.</p></li>
        <li><p><b>Сложность с расчетами:</b> Точное вычисление длин интервалов, соответствующих вероятностям, требует внимательности и аккуратности.</p></li>
        <li><p><b>Применение правил теории вероятности:</b> Корректное использование правил теории вероятности, таких как умножение и сложение вероятностей, критично для успешного решения задач.</p></li>
      </ul>
    </section>

    <section class="interactive">
      <h2>построит координатную прямую, только циферки дай</h2>
      <div>
        <p>вводить без пробелов по схеме : </p>
        <p>(начало интервала)-(конец интервала)</p>
        <label for="intervalCount">Количество промежутков:</label>
        <input type="number" id="intervalCount" value="2" min="2">
        <button onclick="createIntervalInputs()">Создать промежутки</button>
      </div>
      <div id="intervalInputs"></div>
      <button onclick="drawIntervals()">Построить график</button>
      <canvas id="probabilityCanvas" width="500" height="100"></canvas>
    </section>

    <section class="conclusion">
      <h2>Заключение</h2>
      <p>
        Координатная прямая - ценный инструмент для решения задач в различных областях. Она позволяет визуализировать математические понятия, упростить решение задач и получить наглядное представление о решениях. 
      </p>
    </section>    
    
    
    <section class="code">
      <h2>код</h2>
      <p>весь код находится в открытом доступе, поэтому вы можете посмотреть код на сайте, или же на моём github'e : 
        <a href="//github.com/GaneevAmirHosting-dev/theory-line-coordinate">https://github.com/GaneevAmirHosting-dev/theory-line-coordinate</a>
      </p>
      <button id="toggleCodeButton">Показать код</button>
      <pre id="codeBlock" style="display: none;">
        <code>
          function createIntervalInputs() {
            const intervalCount = parseInt(document.getElementById('intervalCount').value);
            const intervalInputsContainer = document.getElementById('intervalInputs');
            intervalInputsContainer.innerHTML = ''; // Очищаем предыдущие поля
          
            // Создаем поля ввода для каждого промежутка
            for (let i = 0; i < intervalCount; i++) {
              const div = document.createElement('div');
              div.classList.add('interval-input');
              div.innerHTML = `
                <label for="interval-${i}">Интервал ${i + 1}:</label>
                <input type="text" id="interval-${i}" placeholder="Начало-Конец">
              `;
              intervalInputsContainer.appendChild(div);
            }
          }
          
          function drawIntervals() {
            const canvas = document.getElementById('probabilityCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
          
            const leftOffset = canvas.width * 0.12;
            const rightOffset = canvas.width * 0.12;
            const lineWidth = canvas.width - leftOffset - rightOffset;
          
            ctx.beginPath();
            ctx.moveTo(leftOffset, 50);
            ctx.lineTo(leftOffset + lineWidth, 50);
            ctx.strokeStyle = 'black';
            ctx.stroke();
          
            const intervalCount = parseInt(document.getElementById('intervalCount').value);
            const intervals = [];
            for (let i = 0; i < intervalCount; i++) {
              const intervalInput = document.getElementById(`interval-${i}`);
              const interval = intervalInput.value.split(/[- ]/g).map(num => {
                if (num.trim() === 'бесконечность' || num.trim() === '∞') return Infinity;
                if (num.trim() === 'минус бесконечность' || num.trim() === '-∞') return -Infinity;
                return Number(num);
              });
          
              if (interval[0] < interval[1] || interval[0] === -Infinity || interval[1] === Infinity) {
                intervals.push(interval);
              } else {
                console.error(`Неверный интервал для ${i + 1}-го промежутка: ${intervalInput.value}`);
              }
            }
          
            let minVal = intervals[0][0];
            let maxVal = intervals[0][1];
            for (let i = 1; i < intervalCount; i++) {
              minVal = Math.min(minVal, intervals[i][0]);
              maxVal = Math.max(maxVal, intervals[i][1]);
            }
          
            const intervalWidth = lineWidth / (maxVal - minVal);
          
            // Коррекция для бесконечности
            intervals.forEach((interval, index) => {
              if (interval[1] === Infinity) {
                const adjust = (interval[0] * 0.25);
                interval[1] = interval[0] + adjust;
              }
            });
          
            
            const colors = ['rgba(0, 0, 255, 0.3)', 'rgba(255, 0, 0, 0.3)', 'rgba(0, 255, 0, 0.3)', 'rgba(255, 255, 0, 0.3)', 
                            'rgba(128, 0, 128, 0.3)', 'rgba(255, 165, 0, 0.3)', 'rgba(0, 255, 255, 0.3)', 'rgba(255, 0, 255, 0.3)']; 
          
            // Определяем порядок отрезков по длине и начальному значению
            const sortedIntervals = intervals.sort((a, b) => {
              if ((b[1] - b[0]) === (a[1] - a[0])) { // Если длины равны, сортируем по началу
                return a[0] - b[0];
              } else {
                return (b[1] - b[0]) - (a[1] - a[0]); // Сортируем по убыванию длины
              }
            });
          
            // Отрисовка отрезков с учетом длины (в обратном порядке)
            let currentHeight = 10 + (sortedIntervals.length - 1) * 10; // Начальная высота отрезка
            for (let i = sortedIntervals.length - 1; i >= 0; i--) {
              const interval = sortedIntervals[i];
          
              // Расчет координат с учетом отступов
              const xStart = leftOffset + (interval[0] - minVal) * intervalWidth; // Начало отрезка
              const xEnd = leftOffset + (interval[1] - minVal) * intervalWidth; // Конец отрезка
              const width = xEnd - xStart; // Ширина отрезка
              const color = colors[i % colors.length];
              const height = currentHeight; // Высота отрезка
              const offsetY = 50 - 5 - height; // Смещение вверх, чтобы все отрезки находились на одной прямой
          
              // Проверка корректности введенных данных
              if (!isNaN(interval[0]) && !isNaN(interval[1]) && interval[0] < interval[1]) {
                ctx.fillStyle = color;
                ctx.fillRect(xStart, offsetY, width, height); // Рисуем отрезок
              } else {
                console.error(`Неверный интервал для ${i + 1}-го промежутка: ${intervalInput.value}`);
              }
          
              currentHeight -= 10; // Уменьшаем высоту для следующего отрезка
          
              // Пишем цифры на оси
              ctx.font = '12px Arial';
              ctx.fillStyle = 'black';
              ctx.fillText(interval[0], xStart, 65); // Начало отрезка
              ctx.fillText(interval[1], xEnd, 65); // Конец отрезка
            }
          }
        </code>
      </pre>
    </section>

  </main>



  <footer>
  <div class="footer_div">
    <p>Дополнительные материалы:</p>
    <ul>
      <li><a href="#">Ссылка на другие работы: coming soon</a></li>
      <li><a href="#" id="modalLink">Ссылка на онлайн-ресурсы по координатной прямой</a></li>
    </ul>
  </div>
    <div id="imageBlock">
      <img src="img\QR Code\QR Code.png" alt="QR Code">
    </div>




  </footer>



  <script>
    const modalLink = document.getElementById('modalLink');
  
    modalLink.addEventListener('click', function(event) {
      event.preventDefault(); // Предотвращаем переход по ссылке
      alert('Вся информация, представленная здесь, была бережно собрана из множества источников\n\n Вам вряд ли интересны эти источники : )'); 
    });
  </script>



  <script src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <script>
    hljs.highlightAll();

    document.getElementById('toggleCodeButton').addEventListener('click', function() {
  const codeBlock = document.getElementById('codeBlock');
  if (codeBlock.style.display === 'none') {
    codeBlock.style.display = 'block';
    this.textContent = 'Скрыть код';  
  } else {
    codeBlock.style.display = 'none';
    this.textContent = 'Показать код'; 
  }
});

  </script>
</body>
</html>
